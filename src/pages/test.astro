---
import { getCollection, getEntry, getEntries, render } from "astro:content";
import { ClientRouter } from "astro:transitions";

import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

import BookShelfHeader from "../components/BookShelfHeader.astro";
import BookShelf from "../components/BookShelf.astro";

import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";

// Today
const storesData = (await getCollection("store2025")).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf()
);
const data = storesData[0];
const heroBook = await getEntry(data.data.heroBook);
const shelves = await getEntries(data.data.selectedShelves);
const { Content } = await render(data);
---

<!doctype html>
<html lang="ja">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    <ClientRouter />
  </head>
  <body class={`bg-neutral-200 text-neutral-600`}>
    <Header theme={data.data.theme} date={data.data.date} />
    <main
      class={`
				grid
        w-full h-screen gap-4
				grid-rows-4 grid-cols-10
			`}
    >
      <div
        class={`w-full h-24 min-h-24 bg-sky-600`}
        style="background-color: aqua; grid-area: 1 / 5 / 2 / 11;"
      >
      </div>
      <div
        class={`w-full h-24 min-h-24 bg-sky-400`}
        style="grid-area: 1 / 1 / 2 / 5;"
      >
      </div>
      <div
        class={`w-full h-24 min-h-24 bg-sky-500`}
        style="grid-area: 2 / 5 / 3 / 11;"
      >
      </div>
      <div
        class={`w-full h-24 min-h-24 bg-sky-400`}
        style="grid-area: 2 / 1 / 3 / 5;"
      >
      </div>
      <div
        class={`w-full h-24 min-h-24 bg-sky-300`}
        style="grid-area: 3 / 6 / 4 / 11;"
      >
      </div>
      <div
        class={`w-full h-24 min-h-24 bg-sky-200`}
        style="grid-area: 3 / 1 / 4 / 6;"
      >
      </div>
      <div
        class={`w-full h-24 min-h-24 bg-sky-300`}
        style="grid-area: 4 / 6 / 5 / 11;"
      >
      </div>
      <div
        class={`w-full h-24 min-h-24 bg-sky-200`}
        style="grid-area: 4 / 1 / 5 / 6;"
      >
      </div>
    </main>
    <Footer />
  </body>
</html>
